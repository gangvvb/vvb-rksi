const NUM_PARTICLES=300,PARTICLE_SIZE=1,SPEED=3e4;let particles=[];function normalPool(e){var t=0;do{var a=Math.round(normal({mean:e.mean,dev:e.dev}));if(a<e.pool.length&&0<=a)return e.pool[a]}while(++t<100)}function randomNormal(e){if(e=Object.assign({mean:0,dev:1,pool:[]},e),Array.isArray(e.pool)&&0<e.pool.length)return normalPool(e);for(var t,a,r,n=e.mean,e=e.dev;t=(a=2*Math.random()-1)*a+(r=2*Math.random()-1)*r,1<=t;);return e*(a*Math.sqrt(-2*Math.log(t)/t))+n}function rand(e,t){return Math.random()*(t-e)+e}function createParticle(e){var t={r:191,g:226,b:255,a:rand(0,1)};return{x:-2,y:-2,diameter:Math.max(0,randomNormal({mean:PARTICLE_SIZE,dev:PARTICLE_SIZE/2})),duration:randomNormal({mean:SPEED,dev:.1*SPEED}),amplitude:randomNormal({mean:16,dev:2}),offsetY:randomNormal({mean:0,dev:10}),arc:2*Math.PI,startTime:performance.now()-rand(0,SPEED),colour:"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"}}function moveParticle(e,t,a){a=(a-e.startTime)%e.duration/e.duration;return{...e,x:a,y:Math.sin(a*e.arc)*e.amplitude+e.offsetY}}function draweParticle(e,t,a){var r=(t=document.getElementById("particle-canvas")).height/100;a.fillStyle=e.colour,a.beginPath(),a.ellipse(e.x*t.width,e.y*r+t.height/2,e.diameter*r,e.diameter*r,0,0,2*Math.PI),a.fill()}function drawe(a,r,t){particles.forEach((e,t)=>{particles[t]=moveParticle(e,r,a)}),t.clearRect(0,0,r.width,r.height),particles.forEach(e=>{draweParticle(e,r,t)}),requestAnimationFrame(e=>drawe(e,r,t))}function initializeCanvas(){let e=document.getElementById("particle-canvas");e.width=e.offsetWidth*window.devicePixelRatio,e.height=e.offsetHeight*window.devicePixelRatio;let t=e.getContext("2d");return window.addEventListener("resize",()=>{e.width=e.offsetWidth*window.devicePixelRatio,e.height=e.offsetHeight*window.devicePixelRatio,t=e.getContext("2d")}),[e,t]}function startAnimation(){var[t,a]=initializeCanvas();for(let e=0;e<NUM_PARTICLES;e++)particles.push(createParticle(t));requestAnimationFrame(e=>drawe(e,t,a))}"loading"!==document.readystate?startAnimation():document.addEventListener("DOMContentLoaded",()=>{startAnimation()});